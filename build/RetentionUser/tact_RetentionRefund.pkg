{"name":"RetentionRefund","code":"te6ccgECGwEABbwAART/APSkE/S88sgLAQIBYgIDA3rQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFts88uCCFAQFAgFYEBED1AGSMH/gcCHXScIflTAg1wsf3iCCEGmjrEW6jrgw0x8BghBpo6xFuvLggdMf0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIQzBsE9s8f+AgghBbmnq8uuMCghCUapi2uuMCMHAGBwgA1Mj4QwHMfwHKAFVgUHYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQBCBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiEss/y/8ByMv/E8s/yx/JAczJ7VQBijMzNTX4QW8kE18DggpiWgChggnJw4Chggr68IChJPhCggpiWgB/c/gnbxAjoYIJycOAoYIK+vCAofgoLCBu8tCAECMQLAkBcjDTHwGCEFuaery68uCB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHT/9P/VSBsE9s8fwoBTtMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8fw0BxshVMIIQSPAMVVAFyx8Tyz+BAQHPAAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyRA0QTAZECQQI21t2zxQBA4BeIIA4g/4QlKwxwXy9IIA4g/4Iym88vQmggDiDwO6EvL0JIIA4g8CuvL0+EKCCcnDgHMpIG7y0ID4KCdZJwsDzshVMIIQ1fci+1AFyx8Tyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFssfyX9VMG1t2zx/+CdvEIEAoIgQNG1t2zwODA4AFgAAAABTdWNjZXNzATptbSJus5lbIG7y0IBvIgGRMuIQJHADBIBCUCPbPA4ByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsADwCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAIBWBITAgFIGRoCEbOjds82zxscYBQVAJWy9GCcFzsPV0srnsehOw51kqFG2aCcJ3WNS0rZHyzItOvLf3xYjmCcCBVwBuAZ2OUzlg6rkclssOCcJ2XTlqzTstzOg6WbZRm6KSAB8u1E0NQB+GPSAAGOZPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHTP9P/1AHQ0//TP9MfMBA3EDYQNRA0bBfg+CjXCwqDCboWAQz4J28Q2zwYAWby4ImBAQHXAIEBAdcA+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiEMwA9FY2zwXABhtcFMAEEYQNRAkECMA3sghwQCYgC0BywcBowHeIYI4Mnyyc0EZ07epqh25jiBwIHGOFAR6qQymMCWoEqAEqgcCpCHAAEUw5jAzqgLPAY4rbwBwjhEjeqkIEm+MAaQDeqkEIMAAFOYzIqUDnFMCb4GmMFjLBwKlWeQwMeLJ0AARsK+7UTQ0gABgAHWybuNDVpcGZzOi8vUW1VVExCRko4NkJrempTRXRrcDR0YWFhelEzaFdodG13SHJQTWdtVFhUMlBIeoIA==","abi":"{\"name\":\"RetentionRefund\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CreateRetentionContract\",\"header\":2340115651,\"fields\":[{\"name\":\"contractId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"secret\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"memo\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"RefundIfPossible\",\"header\":1985343089,\"fields\":[{\"name\":\"memo\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"secret\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"InternalCreateRetentionContract\",\"header\":3193351462,\"fields\":[{\"name\":\"contractId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"secret\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"memo\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"InternalAskForRefund\",\"header\":1536850620,\"fields\":[{\"name\":\"toAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"secret\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"memo\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"InternalCreateRefund\",\"header\":1772334149,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"creator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RefundRetationDeploy\",\"header\":2791734509,\"fields\":[]},{\"name\":\"InternalCreateRefundConract\",\"header\":761316605,\"fields\":[]},{\"name\":\"InternalReplyFromRetentionRefund\",\"header\":1223691349,\"fields\":[{\"name\":\"locked\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"contractAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"creatorAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"InternalAskForRefundCompleted\",\"header\":3589743355,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"creator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"contractAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"InternalRefundContractCreated\",\"header\":1255266380,\"fields\":[{\"name\":\"contract\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"InternalRefundContractClosed\",\"header\":2840063567,\"fields\":[{\"name\":\"contract\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"InternalCreateRefund\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"InternalAskForRefund\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"contractBalance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"57871\":{\"message\":\"Invalid\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"hash","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"memo","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"parent","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECHQEABcYAAQHAAQEFoNErAgEU/wD0pBP0vPLICwMCAWIEEQN60AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRbbPPLgghQFEAPUAZIwf+BwIddJwh+VMCDXCx/eIIIQaaOsRbqOuDDTHwGCEGmjrEW68uCB0x/TP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhDMGwT2zx/4CCCEFuaery64wKCEJRqmLa64wIwcAYIDAGKMzM1NfhBbyQTXwOCCmJaAKGCCcnDgKGCCvrwgKEk+EKCCmJaAH9z+CdvECOhggnJw4Chggr68ICh+CgsIG7y0IAQIxAsBwHGyFUwghBI8AxVUAXLHxPLP4EBAc8AASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJEDRBMBkQJBAjbW3bPFAEDgFyMNMfAYIQW5p6vLry4IH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdP/0/9VIGwT2zx/CQF4ggDiD/hCUrDHBfL0ggDiD/gjKbzy9CaCAOIPA7oS8vQkggDiDwK68vT4QoIJycOAcykgbvLQgPgoJ1knCgPOyFUwghDV9yL7UAXLHxPLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8Wyx/Jf1UwbW3bPH/4J28QgQCgiBA0bW3bPA4LDgAWAAAAAFN1Y2Nlc3MBTtMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8fw0BOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8DgHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wAPAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMANTI+EMBzH8BygBVYFB2INdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WUAQgbpUwcAHLAY4eINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8W4hLLP8v/AcjL/xPLP8sfyQHMye1UAgFYEhoCAVgTGQIRs6N2zzbPGxxgFBcB8u1E0NQB+GPSAAGOZPpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kAh1wsBwwCOHQEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIkjFt4gHTP9P/1AHQ0//TP9MfMBA3EDYQNRA0bBfg+CjXCwqDCboVAWby4ImBAQHXAIEBAdcA+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiEMwA9FY2zwWABhtcFMAEEYQNRAkECMBDPgnbxDbPBgA3sghwQCYgC0BywcBowHeIYI4Mnyyc0EZ07epqh25jiBwIHGOFAR6qQymMCWoEqAEqgcCpCHAAEUw5jAzqgLPAY4rbwBwjhEjeqkIEm+MAaQDeqkEIMAAFOYzIqUDnFMCb4GmMFjLBwKlWeQwMeLJ0ACVsvRgnBc7D1dLK57HoTsOdZKhRtmgnCd1jUtK2R8syLTry398WI5gnAgVcAbgGdjlM5YOq5HJbLDgnCdl05as07LczoOlm2UZuikgAgFIGxwAEbCvu1E0NIAAYAB1sm7jQ1aXBmczovL1FtVVRMQkZKODZCa3pqU0V0a3A0dGFhYXpRM2hXaHRtd0hyUE1nbVRYVDJQSHqCB/M8PV"}},"sources":{"contracts/messages.tact":"Ci8vTUFJTiBDT05UUkFDVCBNRVNTQUdFUwptZXNzYWdlIENyZWF0ZVJldGVudGlvbkNvbnRyYWN0IHsKICAgIGNvbnRyYWN0SWQ6IEludCBhcyB1aW50MzI7CiAgICBzZWNyZXQ6IFN0cmluZzsKICAgIG1lbW86IFN0cmluZzsKICAgIGV4cGlyYXRpb246IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgUmVmdW5kSWZQb3NzaWJsZSB7CiAgICBtZW1vOiBTdHJpbmc7CiAgICBzZWNyZXQ6IFN0cmluZzsKfQoKCgptZXNzYWdlIEludGVybmFsQ3JlYXRlUmV0ZW50aW9uQ29udHJhY3QgewogICAgY29udHJhY3RJZDogSW50OwogICAgc2VjcmV0OiBJbnQ7CiAgICBtZW1vOiBJbnQ7CiAgICBleHBpcmF0aW9uOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIEludGVybmFsQXNrRm9yUmVmdW5kIHsKICAgIHRvQWRkcmVzczogQWRkcmVzczsKICAgIHNlY3JldDogSW50IGFzIHVpbnQyNTY7CiAgICBtZW1vOiBJbnQgYXMgdWludDI1NjsKfQoKbWVzc2FnZSBJbnRlcm5hbENyZWF0ZVJlZnVuZCB7CiAgICBpbmRleDogSW50IGFzIHVpbnQzMjsKICAgIGV4cGlyYXRpb246IEludCBhcyB1aW50NjQ7CiAgICBjcmVhdG9yOiBBZGRyZXNzOwp9CgoKCm1lc3NhZ2UgUmVmdW5kUmV0YXRpb25EZXBsb3kgewoKfQoKCgptZXNzYWdlIEludGVybmFsQ3JlYXRlUmVmdW5kQ29ucmFjdCB7Cgp9CgptZXNzYWdlIEludGVybmFsUmVwbHlGcm9tUmV0ZW50aW9uUmVmdW5kIHsKICAgIGxvY2tlZDogSW50IGFzIHVpbnQ2NDsKICAgIGluZGV4OiBJbnQ7CiAgICBjb250cmFjdEFkZHJlc3M6IEFkZHJlc3M7CiAgICBjcmVhdG9yQWRkcmVzczogQWRkcmVzczsKfQoKbWVzc2FnZSBJbnRlcm5hbEFza0ZvclJlZnVuZENvbXBsZXRlZCB7CiAgICBhbW91bnQ6IEludCBhcyB1aW50NjQ7CiAgICBjcmVhdG9yOiBBZGRyZXNzOwogICAgY29udHJhY3RBZGRyZXNzOiBBZGRyZXNzOwogICAgaW5kZXg6IEludCBhcyB1aW50MzI7Cn0KCm1lc3NhZ2UgSW50ZXJuYWxSZWZ1bmRDb250cmFjdENyZWF0ZWQgewogICAgY29udHJhY3Q6IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludCBhcyB1aW50NjQ7CiAgICBpbmRleDogSW50IGFzIHVpbnQzMjsKfQoKbWVzc2FnZSBJbnRlcm5hbFJlZnVuZENvbnRyYWN0Q2xvc2VkIHsKICAgIGNvbnRyYWN0OiBBZGRyZXNzOwogICAgYW1vdW50OiBJbnQgYXMgdWludDY0OwogICAgaW5kZXg6IEludCBhcyB1aW50MzI7Cn0=","contracts/retention_refund.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzLnRhY3QiOwoKY29udHJhY3QgUmV0ZW50aW9uUmVmdW5kIHdpdGggRGVwbG95YWJsZSB7CiAgICBwYXJlbnQ6IEFkZHJlc3M7CiAgICBjcmVhdG9yOiBBZGRyZXNzPzsKICAgIGV4cGlyYXRpb246IEludCBhcyB1aW50NjQgPSAwOwogICAgaGFzaDogSW50IGFzIHVpbnQyNTY7CiAgICBtZW1vOiBJbnQgYXMgdWludDI1NjsKICAgIGxvY2tlZDogSW50IGFzIHVpbnQ2NCA9IDA7CiAgICBpbmRleDogSW50IGFzIHVpbnQzMiA9IDA7CgogICAgaW5pdChoYXNoOiBJbnQsIG1lbW86IEludCwgcGFyZW50OiBBZGRyZXNzKSB7CiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQ7CiAgICAgICAgc2VsZi5oYXNoID0gaGFzaDsKICAgICAgICBzZWxmLm1lbW8gPSBtZW1vOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBJbnRlcm5hbENyZWF0ZVJlZnVuZCkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgCiAgICAgICAgc2VsZi5jcmVhdG9yID0gbXNnLmNyZWF0b3I7CiAgICAgICAgc2VsZi5leHBpcmF0aW9uID0gbXNnLmV4cGlyYXRpb247CiAgICAgICAgc2VsZi5sb2NrZWQgPSBjdHgudmFsdWUgLSB0b24oIjAuMDQiKSAtIHRvbigiMC4wMyIpIC0gdG9uKCIwLjA1Iik7IC8vc3RvcmFnZQogICAgICAgIHNlbGYuaW5kZXggPSBtc2cuaW5kZXg7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgdmFsdWU6IHRvbigiMC4wNCIpLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgfCBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogSW50ZXJuYWxSZXBseUZyb21SZXRlbnRpb25SZWZ1bmQgewogICAgICAgICAgICAgICAgbG9ja2VkOiBteUJhbGFuY2UoKSAtIHRvbigiMC4wNCIpIC0gdG9uKCIwLjAzIikgLSB0b24oIjAuMDUiKSwKICAgICAgICAgICAgICAgIGluZGV4OiBtc2cuaW5kZXgsCiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6IG15QWRkcmVzcygpLAogICAgICAgICAgICAgICAgY3JlYXRvckFkZHJlc3M6IHNlbGYuY3JlYXRvciEhCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogSW50ZXJuYWxBc2tGb3JSZWZ1bmQpIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYucGFyZW50LCAiSW52YWxpZCIpOwogICAgICAgIHJlcXVpcmUobm93KCkgPiBzZWxmLmV4cGlyYXRpb24sICJJbnZhbGlkIik7CiAgICAgICAgcmVxdWlyZShzZWxmLmhhc2ggPT0gbXNnLnNlY3JldCwgIkludmFsaWQiKTsKICAgICAgICByZXF1aXJlKHNlbGYubWVtbyA9PSBtc2cubWVtbywgIkludmFsaWQiKTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTogdG9uKCIwLjAzIiksCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgfCBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm9keTogSW50ZXJuYWxBc2tGb3JSZWZ1bmRDb21wbGV0ZWQgewogICAgICAgICAgICAgICAgYW1vdW50OiBzZWxmLmxvY2tlZCwKICAgICAgICAgICAgICAgIGNyZWF0b3I6IHNlbGYuY3JlYXRvciEhLAogICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBteUFkZHJlc3MoKSwKICAgICAgICAgICAgICAgIGluZGV4OiBzZWxmLmluZGV4CiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLnRvQWRkcmVzcywKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICB2YWx1ZTogbXlCYWxhbmNlKCksCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlIHwgU2VuZERlc3Ryb3lJZlplcm8sCiAgICAgICAgICAgIGJvZHk6ICJTdWNjZXNzIi5hc0NvbW1lbnQoKQogICAgICAgIH0pOwogICAgfQoKICAgIGdldCBmdW4gY29udHJhY3RCYWxhbmNlKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIG15QmFsYW5jZSgpLnRvU3RyaW5nKCk7CiAgICB9Cn0KCg==","contracts/retention_user.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21lc3NhZ2VzLnRhY3QiOwppbXBvcnQgIi4vcmV0ZW50aW9uX3JlZnVuZC50YWN0IjsKCmNvbnRyYWN0IFJldGVudGlvblVzZXIgd2l0aCBEZXBsb3lhYmxlLCBPd25hYmxlIHsKICAgIHBhcmVudDogQWRkcmVzczsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgCiAgICBjb250cmFjdHNNYXA6IG1hcDxJbnQsIEFkZHJlc3M+OwogICAKICAgIHJlZnVuZGVkOiBJbnQgYXMgdWludDY0ID0gMDsKICAgIGFsbF90aW1lX2xvY2tlZDogSW50IGFzIHVpbnQ2NCA9IDA7CiAKICAgIGluaXQocGFyZW50OiBBZGRyZXNzLCBvd25lcjogQWRkcmVzcykgewogICAgICAgIHNlbGYuY29udHJhY3RzTWFwID0gZW1wdHlNYXAoKTsKICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudDsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7ICAgIAogICAgfQoKICAgIHJlY2VpdmUobXNnOiBJbnRlcm5hbFJlZnVuZENvbnRyYWN0Q3JlYXRlZCkgewogICAgICAgIHNlbGYuYWxsX3RpbWVfbG9ja2VkID0gc2VsZi5hbGxfdGltZV9sb2NrZWQgKyBtc2cuYW1vdW50OwogICAgICAgIHNlbGYuY29udHJhY3RzTWFwLnNldChtc2cuaW5kZXgsIG1zZy5jb250cmFjdCk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEludGVybmFsUmVmdW5kQ29udHJhY3RDbG9zZWQpIHsKICAgICAgICBzZWxmLnJlZnVuZGVkID0gc2VsZi5yZWZ1bmRlZCArIG1zZy5hbW91bnQ7CiAgICAgICAgc2VsZi5jb250cmFjdHNNYXAuc2V0KG1zZy5pbmRleCwgbnVsbCk7CiAgICB9CgogICAgZ2V0IGZ1biBjdXJyZW50TG9ja2VkKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuYWxsX3RpbWVfbG9ja2VkIC0gc2VsZi5yZWZ1bmRlZDsKICAgIH0KCiAgICBnZXQgZnVuIGFsbFRpbWVMb2NrZWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5hbGxfdGltZV9sb2NrZWQ7CiAgICB9CgogICAgZ2V0IGZ1biBhbGxUaW1lUmVmdW5kZWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5yZWZ1bmRlZDsKICAgIH0KCiAgICBnZXQgZnVuIGFkZHJlc3NGb3JLZXkoa2V5OiBJbnQpOiBBZGRyZXNzPyB7CiAgICAgICAgcmV0dXJuIHNlbGYuY29udHJhY3RzTWFwLmdldChrZXkpOwogICAgfQoKICAgIGdldCBmdW4gYWxsS2V5cygpOiBTdHJpbmcgewogICAgICAgIGxldCBrZXlzOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgICAgICBsZXQgY291bnQ6IEludCA9IDA7CgogICAgICAgIGxldCBtbW06IG1hcDxJbnQsIEFkZHJlc3M+ID0gc2VsZi5jb250cmFjdHNNYXA7CgogICAgICAgIGZvcmVhY2ggKGtleSwgdmFsdWUgaW4gbW1tKSB7CiAgICAgICAgICAgIGlmIGNvdW50ID4gMCB7ICAKICAgICAgICAgICAgICAgIGtleXMuYXBwZW5kKCIsIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGtleXMuYXBwZW5kKGtleS50b1N0cmluZygpKTsKICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDE7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBrZXlzLnRvU3RyaW5nKCk7CiAgICB9CgogICAgZ2V0IGZ1biBhbGxJdGVtcygpOiBtYXA8SW50LCBBZGRyZXNzPiB7CiAgICAgICAgcmV0dXJuIHNlbGYuY29udHJhY3RzTWFwOwogICAgfQp9"},"compiler":{"name":"tact","version":"1.3.0","parameters":"{\"entrypoint\":\"contracts/retention_user.tact\",\"options\":{}}"}}